import e,{useEffect as t}from"react";const r=e.createContext(null),n=({value:n,children:o})=>{const[c,l]=e.useState(r),s=require("./lib-rserve");return t((()=>{if(n.host)try{const e={...n,on_connect:()=>l(t)};let t=s.create({...e})}catch(e){l(null),console.log(e)}}),[n]),e.createElement(r.Provider,{value:c},o)};function o(){return e.useContext(r)}const c=({host:t,children:r})=>e.createElement(n,{value:{host:t}},r);export{c as Rserve,o as useRserve};
